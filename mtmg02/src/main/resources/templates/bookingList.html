<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.4/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>

    <link href="https://cdn.datatables.net/v/bs4/dt-1.13.5/datatables.min.css" rel="stylesheet"/>
    <script src="https://cdn.datatables.net/v/bs4/dt-1.13.5/datatables.min.js"></script>

    <title>Booking List</title>
</head>

<body>
<div class="container-fluid shadow bg-white p-0">
    <div class="d-flex justify-content-center py-4 border-bottom border-dark mb-2">
        <h4>Booking List</h4>
    </div>

    <div class="table-responsive px-3 pt-1">
        <table id="bookedTickedTable" class="table table-striped table-borderless">
            <thead>
            <tr>
                <th>#</th>
                <th>Booking ID</th>
                <th>Member ID</th>
                <th>Full name</th>
                <th>Identity card</th>
                <th>Phone number</th>
                <th>Movie</th>
                <th>Time</th>
                <th>Seat</th>
                <th></th>
            </tr>
            </thead>
            <tbody>
            <tr th:each="invoice : ${invoiceAccountList}">
                <td th:text="${invoiceStat.index + 1}"></td>
                <td th:text="${invoice.id}"></td>
                <td th:text="${account.member.id}"></td>
                <td th:text="${account.fullName}"></td>
                <td th:text="${account.identityCard}"></td>
                <td th:text="${account.phoneNumber}"></td>
                <td th:text="${invoice.movieName}"></td>
                <td th:text="${#temporals.format(invoice.scheduleShow,'dd/MM/yyyy-HH:mm')}"></td>
                <td th:text="${invoice.seat}"></td>
                <td class="font-weight-bold text-primary">
                    <a th:href="@{/ticketInformationCF/{invoiceId}(invoiceId = ${invoice.id})}">
                        <button th:if="${invoice.invoiceStatus == true}"
                                class="btn btn-primary">Successful Booking
                        </button>
                    </a>
                    <a th:href="@{/ticketInformation/{invoiceId}(invoiceId = ${invoice.id})}">
                        <button th:if="${invoice.invoiceStatus == false}"
                                class="btn btn-success">Get Ticket
                        </button>

                    </a>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>

<script src="/js/bookingList.js"></script>
</body>

</html>
